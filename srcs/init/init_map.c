/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   init_map.c                                         :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: noam <noam@student.42.fr>                  +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2025/03/14 16:10:37 by noam              #+#    #+#             */
/*   Updated: 2025/04/22 16:16:51 by noam             ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include <cub.h>

// void	init_map(t_map *map)
// {
// 	map->grid = malloc(sizeof(int *) * 16);
// 	for (int i = 0; i < 16; i++)
// 	{
// 		map->grid[i] = malloc(sizeof(int) * 16);
// 	}
// 	// int map_test[5][5] = {
// 	// 	{1, 1, 1, 1, 1},
// 	// 	{1, 0, 1, 1, 1},
// 	// 	{1, 0, 0, 0, 1},
// 	// 	{1, 0, 0, 1, 1},
// 	// 	{1, 1, 1, 1, 1}
// 	// };
// 	int map_test[16][16] = {
// 		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
// 		{1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1},
// 		{1,0,1,0,1,0,1,1,1,1,0,1,0,1,0,1},
// 		{1,0,1,0,0,0,0,0,0,1,0,0,0,1,0,1},
// 		{1,0,1,1,0,0,0,0,0,1,1,1,1,1,0,1},
// 		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 		{1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1},
// 		{1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1},
// 		{1,0,1,1,0,0,0,0,0,0,1,1,0,1,0,1},
// 		{1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1},
// 		{1,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1},
// 		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
// 		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 		{1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1},
// 		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
// 	};
// 	// return ;
// 	for (int y = 0; y < 16; y++)
// 	{
// 		for (int x = 0; x < 16; x++)
// 		{
// 			map->grid[y][x] = map_test[y][x];
// 		}
// 	}

// 	map->tilesize = (WIDTH /2) /16;  // Make tiles visible
// 	map->mapx = 16;
// 	map->mapy = 16;
// }

// void	init_map(t_map *map)
// {
// 	map->grid = malloc(sizeof(int *) * 5);
// 	for (int i = 0; i < 5; i++)
// 	{
// 		map->grid[i] = malloc(sizeof(int) * 5);
// 	}
// 	int map_test[5][5] = {
// 		{1, 1, 1, 1, 1},
// 		{1, 0, 1, 1, 1},
// 		{1, 0, 0, 0, 1},
// 		{1, 0, 0, 1, 1},
// 		{1, 1, 1, 1, 1}
// 	};
// 	// int map_test[16][16] = {
// 	// 	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
// 	// 	{1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1},
// 	// 	{1,0,1,0,1,0,1,1,1,1,0,1,0,1,0,1},
// 	// 	{1,0,1,0,0,0,0,0,0,1,0,0,0,1,0,1},
// 	// 	{1,0,1,1,0,0,0,0,0,1,1,1,1,1,0,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 	// 	{1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1},
// 	// 	{1,0,1,1,0,0,0,0,0,0,1,1,0,1,0,1},
// 	// 	{1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1},
// 	// 	{1,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 	// 	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 	// 	{1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1},
// 	// 	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
// 	// };
// 	// return ;
// 	for (int y = 0; y < 5; y++)
// 	{
// 		for (int x = 0; x < 5; x++)
// 		{
// 			map->grid[y][x] = map_test[y][x];
// 		}
// 	}

// 	map->tilesize = (WIDTH /2) /5;  // Make tiles visible
// 	map->mapx = 5;
// 	map->mapy = 5;
// }





// void	init_map(t_map *map)
// {
// 	map->grid = malloc(sizeof(int *) * 32);
// 	for (int i = 0; i < 32; i++)
// 	{
// 		map->grid[i] = malloc(sizeof(int) * 32);
// 	}
// 	int map_test[32][32] = {
// 		{1, 1, 1, 1, 1},
// 		{1, 0, 1, 1, 1},
// 		{1, 0, 0, 0, 1},
// 		{1, 0, 0, 1, 1},
// 		{1, 1, 1, 1, 1}
// 	};
// 	// int map_test[16][16] = {
// 	// 	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
// 	// 	{1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,1},
// 	// 	{1,0,1,0,1,0,1,1,1,1,0,1,0,1,0,1},
// 	// 	{1,0,1,0,0,0,0,0,0,1,0,0,0,1,0,1},
// 	// 	{1,0,1,1,0,0,0,0,0,1,1,1,1,1,0,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 	// 	{1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1},
// 	// 	{1,0,1,1,0,0,0,0,0,0,1,1,0,1,0,1},
// 	// 	{1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1},
// 	// 	{1,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 	// 	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
// 	// 	{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
// 	// 	{1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1},
// 	// 	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
// 	// };
// 	// return ;
// 	for (int y = 0; y < 32; y++)
// 	{
// 		for (int x = 0; x < 32; x++)
// 		{
// 			map->grid[y][x] = map_test[y][x];
// 		}
// 	}

// 	map->tilesize = (WIDTH /2) /32;  // Make tiles visible
// 	map->mapx = 32;
// 	map->mapy = 32;
// }





void	init_map(t_map *map)
{
	int	y;
	int	x;

	map->grid = malloc(sizeof(int *) * 32);
	for (y = 0; y < 32; y++)
		map->grid[y] = malloc(sizeof(int) * 32);

	int map_data[32][32] = {0};

	// Fill the edges with 1s
	for (y = 0; y < 32; y++)
	{
		for (x = 0; x < 32; x++)
		{
			if (y == 0 || y == 31 || x == 0 || x == 31)
				map_data[y][x] = 1;
		}
	}

	// Add some extra walls (1s) in the middle for structure
	map_data[5][5] = 1;
	map_data[5][6] = 1;
	map_data[6][6] = 1;
	map_data[10][10] = 1;
	map_data[11][10] = 1;
	map_data[12][10] = 1;
	map_data[16][16] = 1;
	map_data[17][16] = 1;
	map_data[18][16] = 1;
	map_data[20][20] = 1;
	map_data[21][21] = 1;
	map_data[22][22] = 1;

	// Copy to map->grid
	for (y = 0; y < 32; y++)
	{
		for (x = 0; x < 32; x++)
			map->grid[y][x] = map_data[y][x];
	}

	map->mapx = 32;
	map->mapy = 32;
	map->tilesize = WIDTH / 32; // adjust as needed
}
